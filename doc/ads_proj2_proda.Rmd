---
title: "Untitled"
author: "Yanzhu Chen yc3511"
date: "9/30/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
#import raw data
data <- read.csv("../data/Housing_Litigations.csv", header = T)
str(data)
head(data)
```

```{r}
#change date format
library(anytime)
data$CaseOpenDate<- anydate(data$CaseOpenDate)
```

```{r}
#clean casestatus
ca <- strsplit(sapply(data$CaseStatus, as.character), split=" ")
ca <- lapply(ca, "[[", 1)
data$CaseStatus <- unlist(ca)
data$CaseStatus[data$CaseStatus == "Exempt-"] <- "Exempt"
data$CaseStatus[data$CaseStatus == "WithDrawn/Abandoned-"] <- "WithDrawn/Abandoned"
data$CaseStatus[data$CaseStatus == "Rescinded-"] <- "Rescinded"
data$CaseStatus[data$CaseStatus == "Rejected-"] <- "Rejected"
```

```{r}
#transfer na to 0 for penalty
data$Penalty[is.na(data$Penalty)] <- 0
```

```{r}
#export data
write.csv(data, file="../data/processed_data")
```

